<!DOCTYPE html>
<html>
    <head>
      <title>Group 6 Introduction</title>
        <style>
            /* Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
}
ul[class],
ol[class] {
  padding: 0;
}
body,
h1,
h2,
h3,
h4,
p,
ul[class],
ol[class],
figure,
blockquote,
dl,
dd {
  margin: 0;
}
html {
  scroll-behavior: smooth;
}
body {
  min-height: 100vh;
  text-rendering: optimizeSpeed;
  line-height: 1.5;
}
ul[class],
ol[class] {
  list-style: none;
}
a:not([class]) {
  text-decoration-skip-ink: auto;
}
img {
  max-width: 100%;
  display: block;
}
article > * + * {
  margin-top: 1em;
}
input,
button,
textarea,
select {
  font: inherit;
}
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Variables */
:root {
  --radius: 12px;
  --text-color-light: #000;
  --text-alt-color-light: #777;
  --text-color-dark: #fff;
  --text-alt-color-dark: #777;
  --bg-color-light: #e9e9e9;
  --bg-color-dark: #28292d;
  --bg-alt-color-light: #e9e9e9;
  --bg-alt-color-dark: #28292d;
}

/* Style */
html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  overflow: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Ubuntu, "Helvetica Neue", sans-serif;
  user-select: none;
}
#remoteVideoContainer{
  position: relative;
  z-index: 9999;
  pointer-events: none;
  width: 100%;
  height: 100%;
  border-radius: var(--radius);
}

#app {
  background: #f8dcf6;
  height: 100%;
}

.inner {
  max-width: 1080px;
  display: flex;
  flex-direction: column;
  position: relative;
  align-items: stretch;
  margin: 0 auto;
  padding: 40px;
}

/*.player-wrapper {
  width: 100%;
  position: relative;
  overflow: hidden;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  border-radius: var(--radius);
  box-shadow: 0 6px 30px rgba(0, 0, 0, 0.3);
  z-index: 1;
}*/
.player-wrapper {
  width: 100%;
  position: relative; /* Ban đầu là relative */
  overflow: hidden;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  border-radius: var(--radius);
  box-shadow: 0 6px 30px rgba(0, 0, 0, 0.3);
  z-index: 1; /* Ban đầu là 1 */
  transition: all 0.25s ease-in;
}
.aspect-spacer {
  padding-bottom: 56.25%;
}

.el-player {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  background: #000;
  border-radius: var(--radius);
}

video {
  width: 100%;
  height: 100%;
  border-radius: var(--radius);
  background: #000;
}

.quiz-wrap {
  min-height: 460px;
  position: relative;
  transition: all 0.25s ease-in;
}

.card {
  margin: 0 20px;
  padding: 20px;
  position: absolute;
  left: 0;
  right: 0;
  background: #fff;
  border-radius: 20px;
  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.1);
  transition: all 1s cubic-bezier(1, -0.56, 0, 1);
  transform: translate3d(0, 0, 0) scale(1);
  backface-visibility: hidden;
  z-index: 0;

}

.card.drop {
  opacity: 1;
  transform: translate3d(0, 200px, -20px) scale(0.92);
  display: flex;
}

.play-and-pause {
  display: flex;
  justify-content: center;
  align-items: center;
}
.icon-tabler-player-play,
.icon-tabler-player-pause {
  cursor: pointer;
  margin: 0 10px; /* Khoảng cách giữa biểu tượng play và pause */
  display: none;
}

.icon-tabler-maximize {
  cursor: pointer;
  position: absolute;
  right: 20px; /* Khoảng cách từ biểu tượng maximize đến mép phải của card */
  top: 20px; /* Khoảng cách từ biểu tượng maximize đến mép trên của card */
}

.float {
  transform: translatey(0px);
  animation: float 6s ease-in-out infinite;
}

/* Utility - Position */
.pos-absolute {
  position: absolute !important;
}
.pos-fixed {
  position: fixed !important;
}
.pos-relative {
  position: relative !important;
}
.top-0 {
  top: 0 !important;
}
.bottom-0 {
  bottom: 0 !important;
}


.full-width {
  width: 100%;
}
.full-height {
  height: 100%;
}


.show {
  transition: opacity 180ms;
}
.hide {
  opacity: 0;
}
.live-text {
  display: none; 
  margin: 0 5px; 
  color: red;
}

.video-playing .live-text {
  display: inline;
}
.live-icon {
  display: inline-block; 
  margin-right: 3px;
  animation: pulse 1.5s ease-in-out infinite;
  color: red;
}
.live-icon svg {
  width: 10px;
  height: 10px;
}

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes blink {
  50% {
    opacity: 0.8;
  }
}

@keyframes float {
  0% {
    transform: translatey(0px);
  }
  50% {
    transform: translatey(-20px);
  }
  100% {
    transform: translatey(0px);
  }
}


@media (max-width: 767px) {
  h2 {
    font-size: 20px;
  }
  .card {
    top: -20px;
  }
}

@media (min-width: 767px) {
  .card {
    top: -25%;
  }
}
:-webkit-full-screen #remoteVideoContainer,
:-moz-full-screen #remoteVideoContainer,
:fullscreen #remoteVideoContainer {
  width: 100%;
  height: 100%;
  border-radius: 0; /* Bỏ viền bo tròn nếu muốn */
}

/* Khi ở chế độ phóng toàn màn hình */
:-webkit-full-screen .el-player,
:-moz-full-screen .el-player,
:fullscreen .el-player {
  border-radius: 0; /* Bỏ viền bo tròn nếu muốn */
}

/* Khi ở chế độ phóng toàn màn hình */
:-webkit-full-screen video,
:-moz-full-screen video,
:fullscreen video {
  border-radius: 0; /* Bỏ viền bo tròn nếu muốn */
}

        </style>
      </head>
      
      <body>
        <div id="app">
          <div class="inner">
            <div class="player-wrapper">
              <div class="aspect-spacer"></div>
              <div class="pos-absolute full-width full-height top-0">
                <div id="remoteVideoContainer">
                  <video id="remoteVideo" autoplay playsinline muted></video>
                </div>
              </div>
            </div>
            <div class="quiz-wrap">
              <div id="quiz" class="card drop">
                <span class="live-text">Live
                  <span class="live-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-media-live" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <circle cx="12" cy="12" r="2"></circle>
                        <circle cx="12" cy="12" r="6"></circle>
                        <circle cx="12" cy="12" r="10"></circle>
                      </svg>
                  </span>
               </span>
                <div class="play-and-pause">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-play" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M7 4v16l13 -8z"></path>
                 </svg>
                 
                 <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-pause" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M6 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"></path>
                    <path d="M14 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"></path>
                 </svg>
                 <div class="code-input">
                  <input type="text" id="code" placeholder="">
                </div>
                 </div>
                 <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-maximize" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path>
                    <path d="M4 16v2a2 2 0 0 0 2 2h2"></path>
                    <path d="M16 4h2a2 2 0 0 1 2 2v2"></path>
                    <path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path>
                 </svg>
                
              </div>
            </div>
          </div>
        </div>
        <script>
const codeInput = document.getElementById("code");
const playButton = document.querySelector(".icon-tabler-player-play");
const pauseButton = document.querySelector(".icon-tabler-player-pause");
const videoPlayer = document.getElementById("video-player");
const maximizeButton = document.querySelector(".icon-tabler-maximize");
//share man hinh
const remoteVideoContainer = document.getElementById("remoteVideoContainer");
const remoteVideo = document.getElementById("remoteVideo");

        let isFullscreen = false;
        let isSharingScreen = false;
        let screenSharingStream = null;

        function captureApplicationAndDisplay() {
            navigator.mediaDevices.getDisplayMedia({ video: { cursor: "always" }, audio: false })
                .then(function (stream) {
                    screenSharingStream = stream;
                    remoteVideo.srcObject = stream;
                })
                .catch(function (err) {
                    console.error("Lỗi truy cập ứng dụng: ", err);
                });
        }

//ket thu
//play and pause
playButton.addEventListener("click", function () {
  if (!isSharingScreen) {
    // Nếu không chia sẻ màn hình, bắt đầu chia sẻ
    captureApplicationAndDisplay();
    isSharingScreen = true;
  }
});

// Thêm sự kiện click cho nút "pause"
pauseButton.addEventListener("click", function () {
  if (isSharingScreen) {
    // Nếu đang chia sẻ màn hình, dừng chia sẻ
    if (screenSharingStream) {
      const tracks = screenSharingStream.getTracks();
      tracks.forEach((track) => track.stop());
      videoPlayer.srcObject = null;
    }
    
    isSharingScreen = false;
  }
});
//ket thu
codeInput.addEventListener("keydown", function (event) {
  if (event.key === "Enter") {
    const enteredCode = codeInput.value.trim();

    if (enteredCode === "pinkfox") {
      // Nếu mã đúng, hiển thị nút phát và ẩn nút tạm dừng
      playButton.style.display = "block";
      pauseButton.style.display = "block";
      videoPlayingIndicator.style.display = "none";
    } else {
      // Nếu mã sai, ẩn cả hai nút
      playButton.style.display = "none";
      pauseButton.style.display = "none";
      videoPlayingIndicator.style.display = "none";
    }

    // Xóa giá trị trong ô input sau khi kiểm tra
    codeInput.value = "";
  }
});
//phong man hinh
maximizeButton.addEventListener("click", function () {
  if (!isFullscreen) {
    // Nếu chưa phóng toàn màn hình, thực hiện phóng toàn màn hình
    if (document.documentElement.requestFullscreen) {
      document.documentElement.requestFullscreen();
    } else if (document.documentElement.mozRequestFullScreen) {
      document.documentElement.mozRequestFullScreen();
    } else if (document.documentElement.webkitRequestFullscreen) {
      document.documentElement.webkitRequestFullscreen();
    }
    isFullscreen = true;
  } else {
    // Nếu đã phóng toàn màn hình, thoát chế độ phóng toàn màn hình
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    }
    isFullscreen = false;
  }
});
//phong to
document.addEventListener("fullscreenchange", handleFullscreenChange);
document.addEventListener("webkitfullscreenchange", handleFullscreenChange);
document.addEventListener("mozfullscreenchange", handleFullscreenChange);

function handleFullscreenChange() {
  isFullscreen = !isFullscreen;

  if (isFullscreen) {
    // Nếu đang ở chế độ toàn màn hình, thực hiện điều chỉnh cho player-wrapper
    playerWrapper.style.position = "fixed";
    playerWrapper.style.left = "0";
    playerWrapper.style.top = "0";
    playerWrapper.style.right = "0";
    playerWrapper.style.bottom = "auto"; // Giữ nguyên cạnh dưới
    playerWrapper.style.zIndex = "9999";
  } else {
    // Nếu thoát khỏi chế độ toàn màn hình, khôi phục cài đặt ban đầu cho player-wrapper
    playerWrapper.style.position = "relative";
    playerWrapper.style.left = "auto";
    playerWrapper.style.top = "auto";
    playerWrapper.style.right = "auto";
    playerWrapper.style.bottom = "auto";
    playerWrapper.style.zIndex = "1"; // Khôi phục z-index ban đầu
  }
}
        </script>
      </body>
</html>